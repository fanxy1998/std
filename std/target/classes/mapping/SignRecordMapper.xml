<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fanxy.mapper.SignRecordMapper" >

    <resultMap id="signResult" type="com.fanxy.entity.SignRecord">
        <result column="ID_" jdbcType="INTEGER" property="id"/>
        <result column="USER_ID" jdbcType="INTEGER" property="userId"/>
        <result column="DATE_MATH" jdbcType="DATE" property="dateMath"/>
        <result column="MASK" jdbcType="INTEGER" property="mask"/>
        <result column="CONTINUE_SIGN_MONTH" jdbcType="INTEGER" property="continueSign"/>
    </resultMap>

    <update id="signByUserId">
        UPDATE SIGN_RECORD SET MASK = #{mask} WHERE USER_ID = #{userId}
    </update>

    <select id="getMask" parameterType="int" resultType="int">
        select MASK from SIGN_RECORD where USER_ID = #{userId}
    </select>

    <insert id="insertUser" parameterType="com.fanxy.entity.SignRecord">
        INSERT INTO SIGN_RECORD(USER_ID, DATE_MATH, MASK, CONTINUE_SIGN_MONTH)
        VALUES (#{userId},#{dateMath},#{mask},#{continueSign});
    </insert>

</mapper>